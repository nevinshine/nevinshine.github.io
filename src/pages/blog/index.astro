---
import { getCollection } from 'astro:content';
import BaseHead from '../../components/BaseHead.astro';

const base = '/my-portfolio';
const posts = (await getCollection('blog')).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<!doctype html>
<html lang="en">
    <head>
        <BaseHead title="Research Logbook | Nevin Shine" description="Daily DevSecOps and Security Research logs" />
    </head>
    <body class="bg-[#050505] text-gray-300 font-sans min-h-screen flex justify-center selection:bg-green-900 selection:text-white">
        <div class="w-full max-w-4xl px-6 py-16">

            <a href={base} class="text-[10px] font-mono text-green-500 hover:text-white transition-colors mb-12 block uppercase tracking-widest no-underline">
                [ ‚Üê Back to Terminal ]
            </a>

            <header class="mb-16 border-l-2 border-green-500 pl-6">
                <h1 class="text-5xl font-bold text-white tracking-tighter mb-2">Research_Logbook</h1>
                <p class="text-sm text-neutral-500 font-mono uppercase tracking-widest">
                    Documenting 100 Days of DevSecOps & Kernel Security
                </p>
            </header>

            <div class="space-y-4">
                {posts.length > 0 ? posts.map((post) => (
                    <a href={`${base}/blog/${post.slug}/`} class="flex justify-between items-center px-6 h-16 border border-neutral-900 hover:border-green-900/50 bg-neutral-900/10 group transition-all rounded-sm no-underline">
                        <div class="flex items-center gap-8">
                            <span class="text-[10px] font-mono text-neutral-600 group-hover:text-green-500 uppercase tracking-tighter">Day_{post.data.day}</span>
                            <span class="text-base text-neutral-400 group-hover:text-white transition-colors font-medium">{post.data.title}</span>
                        </div>
                        <span class="text-[10px] text-neutral-700 uppercase font-mono group-hover:text-neutral-500">{post.data.pubDate.toLocaleDateString()}</span>
                    </a>
                )) : (
                    <p class="text-sm font-mono text-neutral-700 uppercase tracking-widest italic">No transmission logs found in archive.</p>
                )}
            </div>

            <footer class="mt-20 pt-10 text-center border-t border-neutral-900">
                <p class="text-[10px] text-neutral-700 font-mono tracking-widest uppercase italic">Unauthorized access to draft logs is restricted.</p>
            </footer>
        </div>
    </body>
</html>
